# Step 1: Core Concepts & User Flow

**Goal:** Define the comprehensive app specification including user stories, user flow, and technical contracts.

**Instructions:**

1.  Create a complete app specification that includes:
    - **Core User Stories**: Primary features from the user's perspective
    - **Secondary User Stories**: Supporting features and functionality
    - **Detailed User Flow**: Complex Mermaid diagram showing all navigation paths
    - **AI Data Contract**: Technical specifications for AI endpoint integration

2.  **Core Feature Definition**: Focus on the primary meal analysis workflow:
    - Photo capture with size parameters
    - AI analysis and results display
    - User actions (Accept, Refine, Redo)
    - Save to meal history

3.  **Secondary Features**: Include supporting functionality:
    - Meal history with rating system
    - AI-powered meal recommendations
    - Health statistics and visualizations

4.  **Technical Specifications**: Define the AI data contract with:
    - JSON response structure
    - Food database compatibility
    - Portion size handling

5.  **Save as:** `plan/output/01-concepts.md`

**Key Features to Include:**
- Comprehensive user flow with multiple subgraphs for different feature areas
- Detailed user stories for diabetic meal management
- AI integration specifications for meal analysis and recommendations
- Feedback system for improving recommendations over time
